<div class="reservation-detail-wrap">
  <div class="reservation-sidebar">
    <div class="reservation-sidebar-inner">

      <div class="reset-wrap d-flex">
        <a href="javascript:void(0)" (click)="closeFilterBar()"  class="btn btn-sm btn-success for-mobile mr-auto">
          <span class="fa fa-angle-left"></span>
          Back
        </a>
      </div>

      <div class="accordion-group group-active">
        <div class="accordon-heading">
          <a href="javascript:void(0);">Detail Search <span class="fa fa-spin fa-spinner" *ngIf="this.state.loading.searchForm"></span></a>
        </div>
        <div class="accordion-body">
          <ul style="max-height: inherit;">
            <li *ngFor="let field of this.state.searchForm.searchFields">
              <ng-container *ngIf="!field.lookupSearch">
                <input type="text" [(ngModel)]="field.model" placeholder="{{field.name}}" class="select-field-secondary" (keyup.enter)="startSearch();getResults()"/>
              </ng-container>
              <ng-container *ngIf="field.lookupSearch">
                <select [(ngModel)]="field.model" class="select-field-secondary" (change)="startSearch();getResults()">
                  <option value="00000000-0000-0000-0000-000000000000"> Any</option>
                  <option *ngFor="let site of field.results" [ngValue]="site.value"> {{site.text}}</option>
                </select>
              </ng-container>

            </li>
            <li><button class="btn btn-info btn-block" (click)="startSearch();getResults()">Search Reservations</button></li>
          </ul>
        </div>
      </div>


      <div class="accordion-group group-active" *ngIf="state.showForm">
        <div class="accordon-heading">
          <a href="javascript:void(0);">Button Styles <span class="fa fa-spin fa-spinner" *ngIf="this.state.loading.searchForm"></span></a>
        </div>
        <div class="accordion-body">
          <div class="combine-btns">
            <ul>
              <li><a href="javascript:void(0)" class="com-btn has-icon"><span class="fa fa-search"></span> Detail Search</a></li>
              <li><a href="javascript:void(0)" class="com-btn has-icon"><span class="fa fa-file-pdf-o"></span> Add Request</a></li>
              <li><a href="javascript:void(0)" class="com-btn has-icon"><span class="fa fa-gear"></span> Change Ladge</a></li>
              <li><a href="javascript:void(0)" class="com-btn has-icon"><span class="fa fa-envelope-o"></span> Email Conf</a></li>
              <li><a href="javascript:void(0)" class="com-btn has-icon"><span class="fa fa-calendar-check-o"></span> CXL Res</a></li>
              <li><a href="javascript:void(0)" class="com-btn has-icon"><span class="fa fa-refresh"></span> Sync</a></li>
              <li><a href="javascript:void(0)" class="com-btn has-icon"><span class="fa fa-clone"></span> Clone</a></li>
              <li><a href="javascript:void(0)" class="btn btn-info btn-block">Save</a></li>
              <li><a href="javascript:void(0)" class="btn btn-danger btn-block" (click)="backToList()">Close</a></li>
            </ul>
          </div>
        </div>
      </div>

    </div>
  </div>

  <div class="reservation-content-area">
    <div class="reservation-content-inner">
      <div class="filter-btn-wrap for-mobile" >
        <a href="javascript:void(0)" (click)="openFilterBar()" class="filters-btn">Filters <span  class="fa fa-filter"></span></a>
      </div>
      <div class="banner-manage-reserve-wrap" *ngIf="!state.showGrid && !state.showForm">
        <div class="banner-manage-reserve">
          <div class="mng-title">
            <h1>Manage Reservations</h1>
            <h2>Please Select from Sidebar</h2>
            <div class="mng-banner-info">
              <p>You need to select something from leftsidear then related results should be appear according to specific search and after that can view more in detail. </p>
            </div>
            <div class="mng-btn">
              <a href="javascript:void(0)">Search More</a> <br>

              
<button type="button" data-toggle="modal" data-target="#exampleModal" class="btn btn-success"> Launch demo modal </button>


            </div>
          </div>
        </div>
      </div>



      <div class="" *ngIf="state.showGrid || state.showForm">
        <div class="box position-relative box-skin" id="container">
          <div class="box-header">
            Manage Reservations
          </div>
          <div class="box-body" [ngClass]="{'table-loader': (state.loading.results || state.loading.column) }">
            <ng-container *ngIf="state.showGrid">
              <div class="table-responsive table-housekeeping-wrap" *ngIf="state.grid.items.length > 0">
                <table class="table table-striped table-bordered row-border hover room-table jsmartable table-skin">
                  <thead>
                  <tr>
                    <th *ngFor="let column of state.grid.columns.searchFields">{{column.name}}</th>
                    <th></th>
                  </tr>
                  </thead>
                  <tbody class="mobile-slider">
                    <tr *ngFor="let item of state.grid.items">
                      <td data-title="{{column.name}}" *ngFor="let column of state.grid.columns.searchFields">{{item[column.property]}}</td>
                      <td>
                        <a href="javascript:void(0)" tooltip="View Details" (click)="selectReservation(item)">
                          <span class="fa fa-eye skin-color"></span>
                        </a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <h3 *ngIf="state.grid.items.length<=0">{{state.messageNotFound}}</h3>
            </ng-container>
            <ng-container *ngIf="state.showForm">
              <div class="table-responsive table-housekeeping-wrap">
                <div class="table-list">
                  <ul>
                    <li><strong>Confirmation#:</strong> <span class="list-dynamic">{{state.selectedReservation['number']}}</span></li>
                    <li><strong>Status:</strong> <span class="list-dynamic">{{state.selectedReservation['statusName']}}</span></li>
                    <li><strong>In House Status:</strong> <span class="list-dynamic"></span></li>
                    <li><strong>Site:</strong> <span class="list-dynamic"></span></li>
                  </ul>
                </div>
              </div>
              <div class="accordion custom-accordion accordion-sm text-left" id="accordionExample_requests">
                <div class="mb-3">
                  <div class="card-header" id="headingOne">
                    <h2 class="accordion-link has-delete-icon">
                      <span [attr.data-toggle]="'collapse'"
                            [attr.data-target]="'#collaps-requests'"
                            [attr.aria-expanded]="'true'" style="display: block; ">
                          Requests
                      </span>
                    </h2>
                  </div>
                  <div id="collaps-requests" class="collapse show" [attr.data-parent]="'#accordionExample_requests'">
                    <div class="box-primary box-space box-theme rounded-0 form-primary">

                      <div class="custom-accordion-wrap">
                        <div class="custom-accordion" *ngFor="let request of state.selectedReservation['requests']; let secIndex=index;">
                          <h3 class=""><a href="javascript:void(0)"> {{request['resourceType']}}</a></h3>
                          <div class="custom-accordion-content exp" >
                            <div class="row">
                              <div class="col-sm-6">
                                <div class="form-group">
                                  <label class="">Start Date</label>
                                  <input type="text" class="form-control" [(ngModel)]="request['startDate']" />
                                </div>
                              </div>
                              <div class="col-sm-6">
                                <div class="form-group">
                                  <label class="">End Date</label>
                                  <input type="text" class="form-control" [(ngModel)]="request['endDate']" />
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div
                class="accordion custom-accordion accordion-sm text-left" id="accordionExample_Guests">
                <div class="mb-3">
                  <div class="card-header" id="Guests">
                    <h2 class="accordion-link has-delete-icon">
                      <span [attr.data-toggle]="'collapse'"
                            [attr.data-target]="'#collaps-guests'"
                            [attr.aria-expanded]="'true'" style="display: block; ">
                          Guests
                      </span>
                    </h2>
                  </div>
                  <div id="collaps-guests" class="collapse show" [attr.data-parent]="'#accordionExample_Guests'">
                    <div class="box-primary box-space rounded-0 form-primary">

                      <div class="custom-accordion-wrap">
                        <div class="custom-accordion" *ngFor="let guest of state.selectedReservation['guests']; let secIndex=index;">
                          <h3 class=""><a href="javascript:void(0)"> {{guest['firstName']}} {{guest['lastName']}}</a></h3>
                          <div class="custom-accordion-content exp">
                            <div class="tabs-secondary-wrap">
                              <ul class="nav nav-tabs flex-column flex-md-row" id="myTab_{{secIndex}}" role="tablist">
                                <li class="nav-item">
                                  <a aria-selected="false" class="nav-link active" data-toggle="tab" href="#content-11-{{secIndex}}" role="tab">Guest Name</a>
                                </li>
                                <li class="nav-item">
                                  <a aria-selected="true" class="nav-link" data-toggle="tab" href="#content-12-{{secIndex}}" role="tab">Address</a>
                                </li>
                                <li class="nav-item">
                                  <a class="nav-link" data-toggle="tab" href="#content-13-{{secIndex}}" role="tab">Additional Guest</a>
                                </li>
                                <li class="nav-item">
                                  <a class="nav-link" data-toggle="tab" href="#content-13-{{secIndex}}" role="tab">Notes</a>
                                </li>
                                <li class="nav-item">
                                  <a class="nav-link" data-toggle="tab" href="#content-14-{{secIndex}}" role="tab">Marketing Codes</a>
                                </li>
                                <li class="nav-item">
                                  <a class="nav-link" data-toggle="tab" href="#content-15-{{secIndex}}" role="tab">Reservation Profiles</a>
                                </li>
                              </ul>
                              <div class="tab-content" id="myTabContent2-{{secIndex}}">
                                <div class="tab-pane fade" id="content-11-{{secIndex}}" role="tabpanel">
                                  <div class="form-wrap">
                                    <div class="row">
                                      <div class="col-md-6">
                                        <label>Home</label>
                                        <p><input class="form-control" type="text" value=""></p>
                                      </div>
                                      <div class="col-md-6">
                                        <label>Address 2</label>
                                        <p><input class="form-control" type="text" value=""></p>
                                      </div>
                                    </div>
                                    <div class="row">
                                      <div class="col-md-6">
                                        <label>City</label>
                                        <p><input class="form-control" type="text" value=""></p>
                                      </div>
                                      <div class="col-md-6">
                                        <label>State</label>
                                        <p><input class="form-control" type="text" value=""></p>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="tab-pane fade active show" id="content-12-{{secIndex}}" role="tabpanel">
                                  <div class="form-wrap">
                                    <div class="row">
                                      <div class="col-md-6">
                                        <label>Address</label>
                                        <p><input class="form-control" type="text" value=""></p>
                                      </div>
                                      <div class="col-md-6">
                                        <label>Address 2</label>
                                        <p><input class="form-control" type="text" value=""></p>
                                      </div>
                                    </div>
                                    <div class="row">
                                      <div class="col-md-6">
                                        <label>Zip Code</label>
                                        <p><input class="form-control" type="text" value=""></p>
                                      </div>
                                      <div class="col-md-6">
                                        <label>City</label>
                                        <p><input class="form-control" type="text" value=""></p>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="tab-pane fade" id="content-13-{{secIndex}}" role="tabpanel">
                                  <div class="form-wrap">
                                    <div class="row">
                                      <div class="col-md-6">
                                        <label>Guest 1</label>
                                        <p><input class="form-control" type="text" value=""></p>
                                      </div>
                                      <div class="col-md-6">
                                        <label>Guest 2</label>
                                        <p><input class="form-control" type="text" value=""></p>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="tab-pane fade" id="content-14-{{secIndex}}" role="tabpanel">
                                  <div class="form-wrap">
                                    <div class="row">
                                      <div class="col-sm-6" *ngFor="let prop of state.selectedReservation['marketingCodes']">
                                        <div class="form-group">
                                          <label class="control-label"><strong>{{prop.marketingCodeType}}:</strong> </label>
                                          <input class="form-control" type="text" [disabled]="true" [(ngModel)]="prop.marketingCodeDescription" />
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="tab-pane fade" id="content-15-{{secIndex}}" role="tabpanel">
                                  <div class="form-wrap">
                                    <div class="row">
                                      <div class="col-sm-6" *ngFor="let prop of state.selectedReservation['reservationProfiles']">
                                        <div class="form-group">
                                          <label class="control-label"><strong>{{prop.roleName}}:</strong> </label>
                                          <input class="form-control" type="text" [disabled]="true" [(ngModel)]="prop.lastOrCompany" />
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>

                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </ng-container>

          </div>
        </div>
      </div>

    </div>
  </div>

</div>



<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModal" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">New Booking</h5><button aria-label="Close" class="close" data-dismiss="modal" type="button"><span aria-hidden="true">Ã—</span></button>
      </div>
      <div class="modal-body p-0">
        <div class="modal-topbar form-primary form-grey">
          <div class="row">
            <div class="col-md-6">
              <div class="mb-3">
                <label>Add Traveler</label>
                <div class="field-icon-wrap">
                  <span class="user field-icon mt-secon"></span>
                  <input type="text" placeholder="Search by last name, first name" class="form-control">
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="mb-3">
                <label>Add / Replace</label>
                <div class="field-icon-wrap">
                  <span class="fa fa-refresh field-icon mt-secon"></span>
                  <select class="form-control">
                    <option>Select Resources</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="custom-accordion-wrap plr-20">
          <div class="custom-accordion">
            <h3 class="has-icons active">
              <a href="javascript:void(0)">Add Room Tues, April 5 - Jan 10</a>
              <div class="custom-acc-icons">
                <span class="#" class="fa fa-trash-o remove-accordion align-self-center"></span>
                <span class="btn btn-info btn-addmore">Add</span>
              </div>
            </h3>
            <div class="custom-accordion-content exp">
              <div class="form-primary">
                <div class="row">
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label>Date</label>
                      <input class="form-control" type="text" value="">
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label>End Date</label>
                      <input class="form-control" type="text" value="">
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label>Site</label>
                      <input class="form-control" type="text" value="">
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label>Room Type</label>
                      <input class="form-control" type="text" value="">
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label>Contract</label>
                      <input class="form-control" type="text" value="">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="table-cart-wrap">
            <table class="table">
              <tr>
                <td><strong>Westjet</strong></td>
                <td>WS 115 Aug 24</td>
                <td>08:00 AM: Calgary Intl. Airport</td>
                <td>08:00 AM: Vancouver Intl. Airport</td>
                <td><strong>Flex $326.35</strong></td>
                <td><a href="#" class="btn btn-sm btn-outline-info">Remove</a></td>
              </tr>
              <tr>
                <td><strong>Room</strong></td>
                <td>WS 115 Aug 24</td>
                <td>Site: McClelland Lake Lodge</td>
                <td>Room Type: Standard Room</td>
                <td><strong>Flex $326.35</strong></td>
                <td><a href="#" class="btn btn-sm btn-outline-info">Remove</a></td>
              </tr>
              <tr>
                <td><strong>Westjet</strong></td>
                <td>WS 115 Aug 24</td>
                <td>12:00 AM: Calgary Intl. Airport</td>
                <td>12:00 AM: Vancouver Intl. Airport</td>
                <td><strong>Econo $94.35</strong></td>
                <td><a href="#" class="btn btn-sm btn-outline-info">Remove</a></td>
              </tr>
            </table>
          </div>

        </div>

      </div>
      <div class="modal-footer">
        <button class="btn btn-danger" data-dismiss="modal" type="button">Close</button><button class="btn btn-success" type="button">Save</button>
      </div>
    </div>
  </div>
</div>

